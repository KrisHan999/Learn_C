### 2.头文件与函数、变量声明

#### 1.变量声明

变量的声明有两种情况：

1、一种是**需要建立存储空间**的。例如：对于基本数据类型，**声明的同时会进行初始化相当于定义**就已经建立了存储空间。int a 在声明的时候就已经建立了存储空间。

2、另一种是**不需要建立存储空间**的。 例如：**extern int a** 其中变量a是在别的文件中定义的。

3、static变量声明：　　　　

　 (1)对于**局部变量用static**声明，则是为该变量分配的空间在**整个程序的执行期内都始终存在**。

```
    (2)**全局变量**用static来声明，则该变量的**作用只限于本文件模块**。
```

#### 2.变量定义

**定义是说：“在这里建立变量”或“在这里建立函数”。它为名字分配存储空间。**无论定义的是函数还是变量，编译器都要为它们在定义点分配存储空间。 对于变量，编译器确定变量的大小，然后在内存中开辟空间来保存其数据，对于函数，编译器会生成代码，这些代码最终也要占用一定的内存。

例如：类A

如果A a;就是一个声明，告诉编译器a是A类的一个对象变量，但是不进行初始化，不分配空间；如果以后a=new A();这就是初始化，分配了空间。

**尤其要注意的是：在头文件中不能定义变量或者函数，如果有多个源文件包含这个头文件，会出现重复定义的错误**

#### 3.函数的声明和定义

**函数，对于函数也一样，也是定义和声明，**函数的定义和声明是有区别的：

- **定义函数要有函数体**

- **声明函数没有函数体(还有以分号结尾)**

### 3.补充

**什么是定义？什么是声明？它们之间的区别是什么？**

所谓定义就是（编译器）创建一个对象，为这个对象分配一块内存，并给它取上一个名字，这个名字就是就是我们经常所说的变量名或对象名。

声明有2重含义：

　　（1） 告诉编译器，这个名字已经匹配到一块内存上，下面的代码用到变量或者对象是在别的地方定义的。声明可以出现多次。

　　（2） 告诉编译器，这个名字已经被预定了，别的地方再也不能用它来作为变量名或对象名。

定义和声明的最重要区别就是：

**定义创建对象并为这个对象分配了内存，声明没有分配内存。**

最好不要傻嘻嘻的在头文件里定义什么东西。比如全局变量：

```c
/*xx头文件*/
 #ifndef _XX_头文件.H
 #define _XX_头文件.H
 int A;     //最好改为 extern int A
 #endif
```

虽然在上面说基本数据类型声明的同时进行初始化定义，但是经过实验在头文件中如果`int A`，不同的.c文件编译后A具有相同的地址。但是最好还是使用外部声明`extern int A;`，确保头文件中只有声明没有定义，这样如果头文件被多个源文件使用，不会出现重复定义的问题。
